<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Covid Tracker</title>
  <style>
    #data {
      font-size: 24px;
    }
    td {
      border: 1px solid green;
      padding: 5px;
      text-align: center;
    }
  </style>
</head>
<body>
  <h1>Covid Tracker</h1>
  <table id="data">
  <table>
  <script>
    fetch('https://covidtracking.com/api/v1/states/daily.json')
      .then((response) => {
        return response.json();
      })
      .then((datas) => {
        const stateData = datas.filter((data) => {
          return data.state === 'NY';
        })
        console.log(stateData);
        const table = document.getElementById("data");
        const headerRow = table.insertRow(0);
        const h1 = headerRow.insertCell(0);
        const h2 = headerRow.insertCell(1);
        const h3 = headerRow.insertCell(2);
        const h4 = headerRow.insertCell(3);
        const h5 = headerRow.insertCell(4);
        const h6 = headerRow.insertCell(4);
        const h7 = headerRow.insertCell(4);
        h1.innerHTML = 'date';
        h2.innerHTML = 'state';
        h3.innerHTML = 'total';
        h4.innerHTML = 'hospitalizedCurrently';
        h5.innerHTML = 'hospitalizedIncrease';
        h6.innerHTML = 'death';
        h7.innerHTML = 'deathIncrease';

        stateData.forEach((data, index) => {
          const table = document.getElementById("data");
          const row = table.insertRow(index+1);
          const c1 = row.insertCell(0);
          const c2 = row.insertCell(1);
          const c3 = row.insertCell(2);
          const c4 = row.insertCell(3);
          const c5 = row.insertCell(4);
          const c6 = row.insertCell(5);
          const c7 = row.insertCell(6);
          c1.innerHTML = data.date;
          c2.innerHTML = data.state;
          c3.innerHTML = data.total;
          c4.innerHTML = data.hospitalizedCurrently;
          c5.innerHTML = data.hospitalizedIncrease;
          c6.innerHTML = data.death;
          c7.innerHTML = data.deathIncrease;
        })
      });
  </script>
</body>
</html>
